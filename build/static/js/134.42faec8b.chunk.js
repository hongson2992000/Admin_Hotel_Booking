"use strict";(self.webpackChunkhotel_booking_admin=self.webpackChunkhotel_booking_admin||[]).push([[134],{3134:function(e,a,s){s.r(a),s.d(a,{default:function(){return D}});var n=s(2791),i=s(9434),r=s(4257),l=s(5145),c=s(9407),t=s(9365),d=s(5017),o=s(1747),u=s(2170),h=s(5705),m=s(9320),v=s(1202),j=s(7826),x=s(184);function g(){var e=(0,i.I0)(),a=(0,i.v9)(m.pD),s=function(){var e=new Date;return e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()},r=(0,n.useCallback)((function(){e((0,v.VG)())}),[e]),g=(0,n.useCallback)((function(a){e(j.Ef.createHotelServiceRequest(a)),e((0,v.VG)())}),[e]),p=(0,h.TA)({initialValues:{id:0,name:"",price:0,majorGroup:"",description:"",createDate:s(),createBy:"hongson2992000",updateDate:s(),updateBy:"hongson2992000",status:!0,serviceCategory_Id:1},onSubmit:function(e,a){var s=a.resetForm;g(e),s({values:""})}}),N=(0,x.jsxs)("div",{className:"paper",id:"simple-modal-title",children:[(0,x.jsx)("h2",{children:"Th\xeam m\u1edbi d\u1ecbch v\u1ee5"}),(0,x.jsx)("hr",{}),(0,x.jsx)("form",{noValidate:!0,autoComplete:"off",className:"form col-12",onSubmit:p.handleSubmit,children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-6",children:[(0,x.jsx)(t.Z,{children:"T\xean d\u1ecbch v\u1ee5"}),(0,x.jsx)(d.Z,{className:"title",required:!0,id:"name",name:"name",value:p.values.name,onChange:p.handleChange})]}),(0,x.jsxs)("div",{className:"col-6",children:[(0,x.jsx)(t.Z,{children:"Gi\xe1"}),(0,x.jsx)(d.Z,{type:"number",className:"title",required:!0,id:"price",name:"price",value:p.values.price,onChange:p.handleChange})]}),(0,x.jsxs)("div",{className:"col-6",children:[(0,x.jsx)(t.Z,{children:"Nh\xf3m d\u1ecbch v\u1ee5"}),(0,x.jsxs)(l.Z,{className:"title",required:!0,id:"serviceCategory_Id",name:"serviceCategory_Id",value:p.values.serviceCategory_Id,onChange:p.handleChange,children:[(0,x.jsx)(c.Z,{value:1,children:"Th\u1ee9c \u0103n"}),(0,x.jsx)(c.Z,{value:2,children:"\u0110\u1ed3 u\u1ed1ng"})]})]}),(0,x.jsxs)("div",{className:"col-6",children:[(0,x.jsx)(t.Z,{children:"Nh\xf3m"}),1===p.values.serviceCategory_Id?(0,x.jsxs)(l.Z,{className:"title",required:!0,id:"majorGroup",name:"majorGroup",value:p.values.majorGroup,onChange:p.handleChange,children:[(0,x.jsx)(c.Z,{value:"appetizer",children:"Khai v\u1ecb"}),(0,x.jsx)(c.Z,{value:"main_dishes",children:"M\xf3n ch\xednh"}),(0,x.jsx)(c.Z,{value:"dessert",children:"Tr\xe1ng mi\u1ec7ng"})]}):2===p.values.serviceCategory_Id?(0,x.jsxs)(l.Z,{className:"title",required:!0,id:"majorGroup",name:"majorGroup",value:p.values.majorGroup,onChange:p.handleChange,children:[(0,x.jsx)(c.Z,{value:"coffee",children:"C\xe0 ph\xea"}),(0,x.jsx)(c.Z,{value:"tea",children:"Tr\xe0"}),(0,x.jsx)(c.Z,{value:"water_and_soft_drink",children:"N\u01b0\u1edbc gi\u1ea3i kh\xe1t"}),(0,x.jsx)(c.Z,{value:"mocktails",children:"MockTail"}),(0,x.jsx)(c.Z,{value:"beer",children:"Bia"})]}):void 0]}),(0,x.jsxs)("div",{className:"col-12",children:[(0,x.jsx)(t.Z,{children:"Th\xf4ng tin m\xf4 t\u1ea3"}),(0,x.jsx)(o.Z,{className:"title",minRows:5,maxRows:10,id:"description",name:"description",value:p.values.description,onChange:p.handleChange})]}),(0,x.jsx)("div",{className:"InfoCreate col-12",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-6",children:[(0,x.jsx)(t.Z,{children:"Ng\xe0y t\u1ea1o"}),(0,x.jsx)(d.Z,{className:"title",required:!0,id:"createDate",name:"createDate",value:p.values.createDate,onChange:p.handleChange,disabled:!0})]}),(0,x.jsxs)("div",{className:"col-6",children:[(0,x.jsx)(t.Z,{children:"Ng\u01b0\u1eddi t\u1ea1o"}),(0,x.jsx)(d.Z,{className:"title",required:!0,id:"createBy",name:"createBy",value:p.values.createBy,onChange:p.handleChange})]}),(0,x.jsxs)("div",{className:"col-6",children:[(0,x.jsx)(t.Z,{children:"Ng\xe0y c\u1eadp nh\u1eadt"}),(0,x.jsx)(d.Z,{className:"title",required:!0,id:"updateDate",name:"updateDate",value:p.values.updateDate,onChange:p.handleChange,disabled:!0})]}),(0,x.jsxs)("div",{className:"col-6",children:[(0,x.jsx)(t.Z,{children:"Ng\u01b0\u1eddi c\u1eadp nh\u1eadt"}),(0,x.jsx)(d.Z,{className:"title",required:!0,id:"updateBy",name:"updateBy",value:p.values.updateBy,onChange:p.handleChange})]})]})}),(0,x.jsxs)("div",{className:"footer",children:[(0,x.jsx)("button",{className:"buttonSave",type:"submit",children:"L\u01b0u"}),(0,x.jsx)("button",{className:"buttonClose",onClick:r,children:"\u0110\xf3ng"})]})]})})]});return(0,x.jsx)("div",{children:(0,x.jsx)(u.Z,{open:a,onClose:r,children:N})})}var p=s(885),N=s(2556),C=function(e){return e.ServiceManageReducer.arrService},f=function(e){return e.ServiceManageReducer.serviceItem},Z=s(3789),y=s(7498),b=function(){var e=(0,i.I0)(),a=(0,i.v9)(C),s=(0,n.useState)({message:"",isLoading:!1}),r=(0,p.Z)(s,2),l=r[0],c=r[1],t=(0,n.useState)({id:0}),d=(0,p.Z)(t,2),o=d[0],u=d[1],h=function(e,a){c({message:e,isLoading:a})},m=(0,n.useMemo)((function(){return[{field:"stt",headerName:"STT",width:100,renderCell:function(e){return(0,x.jsx)("div",{className:"cellWithImg",children:e.row.stt})}},{field:"name",headerName:"T\xean d\u1ecbch v\u1ee5",width:300,renderCell:function(e){return(0,x.jsx)("div",{className:"cellWithImg",children:e.row.name})}},{field:"type",headerName:"Lo\u1ea1i",width:200,renderCell:function(e){return(0,x.jsx)("div",{className:"cellWithImg",children:e.row.type})}},{field:"image",headerName:"H\xecnh \u1ea3nh",width:150,renderCell:function(e){return(0,x.jsx)("div",{className:"cellWithImg",children:(0,x.jsx)("img",{className:"cellImg",src:e.row.image,alt:"img"})})}},{field:"status",headerName:"Tr\u1ea1ng th\xe1i",width:200,renderCell:function(e){return(0,x.jsx)("div",{className:"cellWithStatus ".concat(e.row.status),children:e.row.status?"\u0110ang hi\u1ec7n":"\u0110ang \u1ea9n"})}}]}),[]),g=(0,n.useCallback)((function(s){var n=a.find((function(e){return e.id===s})),i=Object.assign({},n,{serviceCategory_Id:n.serviceCategory.id});e(j.t8.filInfoHotelServiceRequest(i)),e((0,v.Tc)())}),[a,e]),f=[{field:"action",headerName:"Ch\u1ee9c n\u0103ng",width:200,renderCell:function(e){return(0,x.jsxs)("div",{className:"cellAction",children:[(0,x.jsx)("div",{className:"updateButton",onClick:function(){return g(e.row.id)},children:"C\u1eadp nh\u1eadt"}),(0,x.jsxs)("div",{className:"deleteButton",onClick:function(){return a=e.row.id,h("B\u1ea1n ch\u1eafc ch\u1eafn x\xf3a d\u1ecbch v\u1ee5 n\xe0y?",!0),void u({id:a});var a},children:[" ","Xo\xe1"]})]})}}],b=(0,n.useCallback)((function(){e((0,v.K4)())}),[e]);return(0,x.jsxs)("div",{className:"datatableService",children:[(0,x.jsxs)("div",{className:"datatableTitle",children:["Danh s\xe1ch d\u1ecbch v\u1ee5",(0,x.jsx)("span",{onClick:b,className:"link",children:"Th\xeam d\u1ecbch v\u1ee5"})]}),(0,x.jsx)(N._,{className:"datagrid",rows:function(){var e=[];return a.forEach((function(a,s){var n,i;e.push({stt:s+1,id:a.id,name:a.name,type:null===(n=a.serviceCategory)||void 0===n?void 0:n.name,status:a.status,image:null===(i=(0,y.Z)("img_service_".concat(a.id)))||void 0===i?void 0:i.pictureUrl})})),e}(),columns:m.concat(f),pageSize:9,rowsPerPageOptions:[9]}),l.isLoading&&(0,x.jsx)(Z.Z,{onDialog:function(a){a?(e(j.C0.deleteHotelServiceRequest(o.id)),h("",!1)):h("",!1)},message:l.message})]})};function I(){var e=(0,i.I0)(),a=(0,i.v9)(m.Jt),s=(0,i.v9)(f),r=function(){var e=new Date;return e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()};(0,n.useEffect)((function(){Z({id:s.id,name:s.name,price:s.price,majorGroup:s.majorGroup,description:s.description,createDate:s.createDate,createBy:s.createBy,updateDate:r(),updateBy:"hongson2992000",status:s.status,serviceCategory_Id:s.serviceCategory_Id})}),[s.id,s.name,s.price,s.majorGroup,s.description,s.createDate,s.createBy,s.status,s.serviceCategory_Id]);var g=(0,n.useState)({id:s.id,name:s.name,price:s.price,majorGroup:s.majorGroup,description:s.description,createDate:s.createDate,createBy:s.createBy,updateDate:r(),updateBy:"hongson2992000",status:s.status,serviceCategory_Id:s.serviceCategory_Id}),N=(0,p.Z)(g,2),C=N[0],Z=N[1],y=(0,n.useCallback)((function(){e((0,v.tJ)())}),[e]),b=(0,n.useCallback)((function(a){e(j.BG.updateHotelServiceRequest(a)),e((0,v.tJ)())}),[e]),I=(0,h.TA)({initialValues:C,onSubmit:function(e,a){var s=a.resetForm;b(e),s({values:""})},enableReinitialize:!0}),S=(0,x.jsxs)("div",{className:"paperUpdate",id:"simple-modal-title",children:[(0,x.jsx)("h2",{children:"Ch\u1ec9nh s\u1eeda d\u1ecbch v\u1ee5"}),(0,x.jsx)("hr",{}),(0,x.jsx)("form",{noValidate:!0,autoComplete:"off",className:"form col-12",onSubmit:I.handleSubmit,onReset:I.handleReset,children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-6",children:[(0,x.jsx)(t.Z,{children:"T\xean d\u1ecbch v\u1ee5"}),(0,x.jsx)(d.Z,{className:"title",required:!0,id:"name",name:"name",value:I.values.name||"",onChange:I.handleChange})]}),(0,x.jsxs)("div",{className:"col-6",children:[(0,x.jsx)(t.Z,{children:"Gi\xe1"}),(0,x.jsx)(d.Z,{type:"number",className:"title",required:!0,id:"price",name:"price",value:I.values.price||"",onChange:I.handleChange})]}),(0,x.jsxs)("div",{className:"col-6",children:[(0,x.jsx)(t.Z,{children:"Nh\xf3m d\u1ecbch v\u1ee5"}),(0,x.jsxs)(l.Z,{className:"title",required:!0,id:"serviceCategory_Id",name:"serviceCategory_Id",value:I.values.serviceCategory_Id||"",onChange:I.handleChange,children:[(0,x.jsx)(c.Z,{value:1,children:"Th\u1ee9c \u0103n"}),(0,x.jsx)(c.Z,{value:2,children:"\u0110\u1ed3 u\u1ed1ng"})]})]}),(0,x.jsxs)("div",{className:"col-6",children:[(0,x.jsx)(t.Z,{children:"Nh\xf3m"}),1===I.values.serviceCategory_Id?(0,x.jsxs)(l.Z,{className:"title",required:!0,id:"majorGroup",name:"majorGroup",value:I.values.majorGroup,onChange:I.handleChange,children:[(0,x.jsx)(c.Z,{value:"appetizer",children:"Khai v\u1ecb"}),(0,x.jsx)(c.Z,{value:"main_dishes",children:"M\xf3n ch\xednh"}),(0,x.jsx)(c.Z,{value:"dessert",children:"Tr\xe1ng mi\u1ec7ng"})]}):2===I.values.serviceCategory_Id?(0,x.jsxs)(l.Z,{className:"title",required:!0,id:"majorGroup",name:"majorGroup",value:I.values.majorGroup,onChange:I.handleChange,children:[(0,x.jsx)(c.Z,{value:"coffee",children:"C\xe0 ph\xea"}),(0,x.jsx)(c.Z,{value:"tea",children:"Tr\xe0"}),(0,x.jsx)(c.Z,{value:"water_and_soft_drink",children:"N\u01b0\u1edbc gi\u1ea3i kh\xe1t"}),(0,x.jsx)(c.Z,{value:"mocktails",children:"MockTail"}),(0,x.jsx)(c.Z,{value:"beer",children:"Bia"})]}):void 0]}),(0,x.jsxs)("div",{className:"col-12",children:[(0,x.jsx)(t.Z,{children:"Th\xf4ng tin m\xf4 t\u1ea3"}),(0,x.jsx)(o.Z,{className:"title",minRows:5,maxRows:10,id:"description",name:"description",value:I.values.description||"",onChange:I.handleChange})]}),(0,x.jsx)("div",{className:"InfoCreate col-12",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-6",children:[(0,x.jsx)(t.Z,{children:"Ng\xe0y t\u1ea1o"}),(0,x.jsx)(d.Z,{className:"title",required:!0,id:"createDate",name:"createDate",value:I.values.createDate||"",onChange:I.handleChange,disabled:!0})]}),(0,x.jsxs)("div",{className:"col-6",children:[(0,x.jsx)(t.Z,{children:"Ng\u01b0\u1eddi t\u1ea1o"}),(0,x.jsx)(d.Z,{className:"title",required:!0,id:"createBy",name:"createBy",value:I.values.createBy||"",onChange:I.handleChange})]}),(0,x.jsxs)("div",{className:"col-6",children:[(0,x.jsx)(t.Z,{children:"Ng\xe0y c\u1eadp nh\u1eadt"}),(0,x.jsx)(d.Z,{className:"title",required:!0,id:"updateDate",name:"updateDate",value:I.values.updateDate||"",onChange:I.handleChange,disabled:!0})]}),(0,x.jsxs)("div",{className:"col-6",children:[(0,x.jsx)(t.Z,{children:"Ng\u01b0\u1eddi c\u1eadp nh\u1eadt"}),(0,x.jsx)(d.Z,{className:"title",required:!0,id:"updateBy",name:"updateBy",value:I.values.updateBy||"",onChange:I.handleChange})]})]})}),(0,x.jsxs)("div",{className:"footer",children:[(0,x.jsx)("button",{className:"buttonSave",type:"submit",children:"L\u01b0u"}),(0,x.jsx)("button",{className:"buttonClose",type:"reset",onClick:y,children:"\u0110\xf3ng"})]})]})})]});return(0,x.jsx)("div",{children:(0,x.jsx)(u.Z,{open:a,onClose:y,children:S})})}var S=s(5882),_=s(7689),w=s(603);function D(){var e=(0,i.I0)(),a=(0,_.s0)();return(0,n.useEffect)((function(){var s=localStorage.getItem(w.bc);s&&JSON.parse(s).userRole===w.N1.ADMIN?(a("/service"),e(j.q6.getHotelServiceRequest())):(s&&JSON.parse(s).userRole===w.N1.RECEPTIONIST||s&&JSON.parse(s).userRole===w.N1.HOUSEKEEPING||s&&JSON.parse(s).userRole===w.N1.RESTAURANT)&&a("/roomManage")}),[a,e]),(0,x.jsx)("div",{className:"main-screenServicePage col-12",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-2",children:(0,x.jsx)(S.Z,{})}),(0,x.jsxs)("div",{className:"content-main col-10",children:[(0,x.jsx)(r.Z,{}),(0,x.jsx)(g,{}),(0,x.jsx)(I,{}),(0,x.jsx)(b,{})]})]})})}}}]);
//# sourceMappingURL=134.42faec8b.chunk.js.map