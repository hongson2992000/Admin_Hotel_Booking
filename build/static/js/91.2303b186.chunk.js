"use strict";(self.webpackChunkhotel_booking_admin=self.webpackChunkhotel_booking_admin||[]).push([[91],{5091:function(e,r,n){n.r(r),n.d(r,{default:function(){return D}});var a=n(2791),t=n(7689),i=n(885),l=n(2556),s=n(3449),d=n(1110),o=n(6204),c=n(6015),u=n(166),h=n(9434),m=n(6611),v=n(5798),f=n(8834),g=n(2426),N=n.n(g),w=n(603),p=n(184);function x(){var e=(0,h.I0)(),r=(0,t.s0)(),n=a.useState("1"),g=(0,i.Z)(n,2),x=g[0],j=g[1],C=(0,h.v9)(m.dL);(0,a.useEffect)((function(){var n=localStorage.getItem(w.bc);n&&JSON.parse(n).userRole===w.N1.ADMIN?r("/overview"):n&&JSON.parse(n).userRole===w.N1.RECEPTIONIST?(r("/listBooking"),e(v.Xy.getAllBookingRequest())):(n&&JSON.parse(n).userRole===w.N1.HOUSEKEEPING||n&&JSON.parse(n).userRole===w.N1.RESTAURANT)&&r("/roomManage")}),[r,e]);var D=(0,a.useCallback)((function(n){var a=C.find((function(e){return e.id===n.id}));e(v.fc.getBookingByIdRequest(a)),localStorage.setItem(w.DL,JSON.stringify(a)),e(f.oD.getRoomAvailabilityRequest({booking_id:n.id})),r("/checkIn")}),[r,C,e]),I=(0,a.useCallback)((function(n){e(v.IZ.checkOutRoomRequest({id:n,navigate:r}))}),[r,e]),y=function(e){var r="";switch(e){case 1:return"Deluxe King/ Cao c\u1ea5p";case 2:return"Deluxe Twin/ Cao c\u1ea5p";case 3:return"Superior King/ Ph\xf2ng th\u01b0\u1eddng";case 4:return"Superior Twin/ Ph\xf2ng th\u01b0\u1eddng";case 5:return"Standard King/ Ph\xf2ng th\u01b0\u1eddng";case 6:return"Standard Twin/ Ph\xf2ng th\u01b0\u1eddng";default:return r}},T=(0,a.useMemo)((function(){return[{field:"id",headerName:"M\xe3 \u0110\u1eb7t Ph\xf2ng",width:150,renderCell:function(e){return(0,p.jsx)("div",{className:"cellWithImg",children:e.row.id})}},{field:"name",headerName:"T\xean Kh\xe1ch \u0110\u1eb7t",width:200,renderCell:function(e){return(0,p.jsx)("div",{className:"cellWithImg",children:e.row.name})}},{field:"roomType",headerName:"Lo\u1ea1i Ph\xf2ng",width:250,renderCell:function(e){return(0,p.jsx)("div",{className:"cellWithImg",children:e.row.roomType})}},{field:"arrivalDate",headerName:"Ng\xe0y \u0110\u1ebfn",width:160,renderCell:function(e){return(0,p.jsx)("div",{className:"cellWithImg",children:e.row.arrivalDate.substring(0,10)})}},{field:"departureDate",headerName:"Ng\xe0y \u0110i",width:160,renderCell:function(e){return(0,p.jsx)("div",{className:"cellWithImg",children:e.row.departureDate.substring(0,10)})}},{field:"status",headerName:"Tr\u1ea1ng Th\xe1i",width:150,renderCell:function(e){return(0,p.jsx)("div",{className:"cellWithImg ".concat(e.row.status===w.FP?"CHECKIN":e.row.status===w.iK?"CHECKOUT":"BOOKED"),children:e.row.status===w.Cc?"\u0110\xe3 \u0111\u1eb7t ph\xf2ng":e.row.status===w.FP?"\u0110ang \u1ede":"\u0110\xe3 r\u1eddi kh\u1ecfi"})}}]}),[]),P=(0,a.useMemo)((function(){return[{field:"id",headerName:"M\xe3 \u0110\u1eb7t Ph\xf2ng",width:150,renderCell:function(e){return(0,p.jsx)("div",{className:"cellWithImg",children:e.row.id})}},{field:"name",headerName:"T\xean Kh\xe1ch \u0110\u1eb7t",width:200,renderCell:function(e){return(0,p.jsx)("div",{className:"cellWithImg",children:e.row.name})}},{field:"roomType",headerName:"Lo\u1ea1i Ph\xf2ng",width:250,renderCell:function(e){return(0,p.jsx)("div",{className:"cellWithImg",children:e.row.roomType})}},{field:"arrivalDate",headerName:"Ng\xe0y \u0110\u1ebfn",width:180,renderCell:function(e){return(0,p.jsx)("div",{className:"cellWithImg",children:e.row.arrivalDate.substring(0,10)})}},{field:"departureDate",headerName:"Ng\xe0y \u0110i",width:180,renderCell:function(e){return(0,p.jsx)("div",{className:"cellWithImg",children:e.row.departureDate.substring(0,10)})}}]}),[]),b=(0,a.useMemo)((function(){return[{field:"id",headerName:"M\xe3 \u0110\u1eb7t Ph\xf2ng",width:150,renderCell:function(e){return(0,p.jsx)("div",{className:"cellWithImg",children:e.row.id})}},{field:"name",headerName:"T\xean Kh\xe1ch \u0110\u1eb7t",width:250,renderCell:function(e){return(0,p.jsx)("div",{className:"cellWithImg",children:e.row.name})}},{field:"roomType",headerName:"Lo\u1ea1i Ph\xf2ng",width:250,renderCell:function(e){return(0,p.jsx)("div",{className:"cellWithImg",children:e.row.roomType})}},{field:"arrivalDate",headerName:"Ng\xe0y \u0110\u1ebfn",width:180,renderCell:function(e){return(0,p.jsx)("div",{className:"cellWithImg",children:e.row.arrivalDate.substring(0,10)})}},{field:"departureDate",headerName:"Ng\xe0y \u0110i",width:180,renderCell:function(e){return(0,p.jsx)("div",{className:"cellWithImg",children:e.row.departureDate.substring(0,10)})}}]}),[]),k=(0,a.useMemo)((function(){return[{field:"id",headerName:"M\xe3 \u0110\u1eb7t Ph\xf2ng",width:150,renderCell:function(e){return(0,p.jsx)("div",{className:"cellWithImg",children:e.row.id})}},{field:"name",headerName:"T\xean Kh\xe1ch \u0110\u1eb7t",width:200,renderCell:function(e){return(0,p.jsx)("div",{className:"cellWithImg",children:e.row.name})}},{field:"roomType",headerName:"Lo\u1ea1i Ph\xf2ng",width:250,renderCell:function(e){return(0,p.jsx)("div",{className:"cellWithImg",children:e.row.roomType})}},{field:"arrivalDate",headerName:"Ng\xe0y \u0110\u1ebfn",width:200,renderCell:function(e){return(0,p.jsx)("div",{className:"cellWithImg",children:e.row.arrivalDate.substring(0,10)})}},{field:"departureDate",headerName:"Ng\xe0y \u0110i",width:200,renderCell:function(e){return(0,p.jsx)("div",{className:"cellWithImg",children:e.row.departureDate.substring(0,10)})}},{field:"status",headerName:"Tr\u1ea1ng Th\xe1i",width:200,renderCell:function(e){return(0,p.jsx)("div",{className:"cellWithImg ".concat(e.row.status===w.FP?"CHECKIN":e.row.status===w.iK?"CHECKOUT":"BOOKED"),children:e.row.status===w.FP?"\u0110ang \u1ede":" "})}}]}),[]),S=[{field:"action",headerName:"H\xe0nh \u0110\u1ed9ng",width:140,renderCell:function(e){return(0,p.jsx)("div",{className:"cellAction",children:e.row.status===w.FP?(0,p.jsx)("div",{className:"checkInButton",style:{pointerEvents:"none"},children:"Check In"}):(0,p.jsx)("div",{className:"checkInButton",onClick:function(){return D(e.row)},children:"Check In"})})}}],O=[{field:"action",headerName:"H\xe0nh \u0110\u1ed9ng",width:140,renderCell:function(e){return(0,p.jsx)("div",{className:"cellAction",children:B(e.row.arrivalDate.substring(0,10),N()().format("DD/MM/YYYY"))?(0,p.jsx)("div",{className:"checkInButton",style:{pointerEvents:"none"},children:"H\u1ee7y"}):(0,p.jsx)("div",{className:"checkInButton",onClick:function(){return D(e.row)},children:"H\u1ee7y"})})}}],W=[{field:"action",headerName:"H\xe0nh \u0110\u1ed9ng",width:200,renderCell:function(e){return(0,p.jsx)("div",{className:"cellAction",children:(0,p.jsx)("div",{className:"checkInButton",onClick:function(){return I(e.row.id)},children:"Check Out"})})}}],B=function(e,r){var n=e.split("/"),a=n[2]+"-"+n[1]+"-"+n[0],t=r.split("/"),i=t[2]+"-"+t[1]+"-"+t[0];return console.log("Thanh An",a+"////"+i),N()(a).isBefore(i)};return(0,p.jsxs)("div",{className:"datatableListBooking",children:[(0,p.jsx)("div",{className:"datatableTitle",children:"Danh s\xe1ch booking"}),(0,p.jsxs)(s.ZP,{value:x,children:[(0,p.jsx)(c.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,p.jsxs)(d.Z,{onChange:function(e,r){j(r)},"aria-label":"lab API tabs example",children:[(0,p.jsx)(u.Z,{label:"T\u1ea5t C\u1ea3",value:"1"}),(0,p.jsx)(u.Z,{label:"\u0110\u1ebfn Trong Ng\xe0y",value:"2"}),(0,p.jsx)(u.Z,{label:"\u0110i Trong Ng\xe0y",value:"3"}),(0,p.jsx)(u.Z,{label:"Kh\xe1ch \u0110ang \u1ede",value:"4"})]})}),(0,p.jsx)(o.Z,{value:"1",children:(0,p.jsx)(l._,{className:"datagrid",rows:function(){var e=[];return C.forEach((function(r){var n,a,t;e.push({id:r.id,name:(null===(n=r.customer)||void 0===n?void 0:n.firstName)+" "+(null===(a=r.customer)||void 0===a?void 0:a.middleName)+" "+(null===(t=r.customer)||void 0===t?void 0:t.lastName),roomType:y(r.roomTypeId),requestService:"\u0110\u01b0a \u0110\xf3n S\xe2n Bay",arrivalDate:r.arrivalDate,departureDate:r.departureDate,status:r.status}),console.log(B(r.arrivalDate.substring(0,10),N()().format("DD/MM/YYYY")))})),e}(),columns:T.concat(O),pageSize:9,rowsPerPageOptions:[9]})}),(0,p.jsx)(o.Z,{value:"2",children:(0,p.jsx)(l._,{className:"datagrid",rows:function(){var e=[],r=N()().format("DD/MM/YYYY");return C.filter((function(e){return e.arrivalDate.substring(0,10)===r&&e.status===w.Cc})).forEach((function(r){var n,a,t;e.push({id:r.id,name:(null===(n=r.customer)||void 0===n?void 0:n.firstName)+" "+(null===(a=r.customer)||void 0===a?void 0:a.middleName)+" "+(null===(t=r.customer)||void 0===t?void 0:t.lastName),roomType:y(r.roomTypeId),requestService:"\u0110\u01b0a \u0110\xf3n S\xe2n Bay",arrivalDate:r.arrivalDate,departureDate:r.departureDate,status:r.status,numOfPerson:r.numOfAdult+r.numOfChildren,roomTypeId:r.roomTypeId})})),e}(),columns:P.concat(S),pageSize:9,rowsPerPageOptions:[9]})}),(0,p.jsx)(o.Z,{value:"3",children:(0,p.jsx)(l._,{className:"datagrid",rows:function(){var e=[],r=N()().format("DD/MM/YYYY");return C.filter((function(e){return e.departureDate.substring(0,10)===r&&e.status===w.FP})).forEach((function(r){var n,a,t;e.push({id:r.id,name:(null===(n=r.customer)||void 0===n?void 0:n.firstName)+" "+(null===(a=r.customer)||void 0===a?void 0:a.middleName)+" "+(null===(t=r.customer)||void 0===t?void 0:t.lastName),roomType:y(r.roomTypeId),requestService:"\u0110\u01b0a \u0110\xf3n S\xe2n Bay",arrivalDate:r.arrivalDate,departureDate:r.departureDate})})),e}(),columns:b.concat(W),pageSize:9,rowsPerPageOptions:[9]})}),(0,p.jsx)(o.Z,{value:"4",children:(0,p.jsx)(l._,{className:"datagrid",rows:function(){var e=[];return C.filter((function(e){return e.status===w.FP})).forEach((function(r){var n,a,t;e.push({id:r.id,name:(null===(n=r.customer)||void 0===n?void 0:n.firstName)+" "+(null===(a=r.customer)||void 0===a?void 0:a.middleName)+" "+(null===(t=r.customer)||void 0===t?void 0:t.lastName),roomType:y(r.roomTypeId),requestService:"\u0110\u01b0a \u0110\xf3n S\xe2n Bay",arrivalDate:r.arrivalDate,departureDate:r.departureDate,status:r.status,numOfPerson:r.numOfAdult+r.numOfChildren,roomTypeId:r.roomTypeId})})),e}(),columns:k,pageSize:9,rowsPerPageOptions:[9]})})]})]})}var j=n(4257),C=n(5882);function D(){(0,t.s0)(),h.I0;return(0,p.jsx)("div",{className:"main-screenListBookingPage col-12",children:(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-2",children:(0,p.jsx)(C.Z,{})}),(0,p.jsxs)("div",{className:"content-main col-10",children:[(0,p.jsx)(j.Z,{}),(0,p.jsx)(x,{})]})]})})}}}]);
//# sourceMappingURL=91.2303b186.chunk.js.map